<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cb_design_topic">
    <sys_cb_design_topic action="INSERT_OR_UPDATE">
        <compiled_topic display_value="_PRVW__69652cecf5d010104e794f8cb46fb789">2d652cecdbd01010454ef7af2996198a</compiled_topic>
        <design_definition>{"type":"FlowTopic","triggers":[{"type":"Trigger","name":"d6e32fce7b514e4aaaa11e398f80f7b8","triggerType":"request","applicability":{"type":"Applicability","mode":"script","value":"true"},"id":"d6e32fce7b514e4aaaa11e398f80f7b8"}],"goals":[{"name":"primary","trigger_id":"d6e32fce7b514e4aaaa11e398f80f7b8","nodes":[{"type":"StartGoal","goal_id":"1a6172be1313400d8059e11d26b290cd","greeting_msg":{"type":"String","mode":"string","value":"I can help you find and update NeedIt records for a type of request."},"id":"b34944db79b2445a8d2ca92cb266325c","name":"Start"},{"type":"TerminateGoal","goal_id":"1a6172be1313400d8059e11d26b290cd","confirmation_msg":{"type":"String","mode":"string","value":"Ask again when you need to update other NeedIt records."},"id":"a140e4f24c8e4e3c95f9f10b1af302ef","name":"End"},{"type":"ChoiceInputPrompt","expression_mode":"simple","id":"40e5af4385394b09ba0885d1594fab1e","name":"NeedIt Type","goal_id":"1a6172be1313400d8059e11d26b290cd","applicability":{"type":"Applicability","mode":"script","value":"true"},"variable_id":"3ba2c219ab4644aeb16ff842df719071","message":{"type":"String","mode":"string","value":"Which type of NeedIt record would you like to view?"},"optional":false,"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":false}},{"type":"OutputPrompt","value":{"type":"String","mode":"script","value":"(function execute() {\n    /* Return a quoted string.  For example:\n\n       var result;\n       if (vaInputs.first_name == 'Bill') {\n           return gs.getMessage('hi there {0}', [vaInputs.first_name]);\n       } else {\n           return gs.getMessage('how are you {0}', [vaInputs.last_name]);\n       }\n    */\n    return 'You selected ' + vaInputs.needit_type.getDisplayValue();\n})()\n"},"id":"8a863a551ce849e7a41f8261ddf3bdbc","name":"Confirm NeedIt Type","goal_id":"1a6172be1313400d8059e11d26b290cd","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"ReferenceChoiceInputPrompt","mode":"external","id":"491dbb5341d344afae4b0544e9d4392a","name":"NeedIt List","goal_id":"1a6172be1313400d8059e11d26b290cd","applicability":{"type":"Applicability","mode":"script","value":"true"},"variable_id":"3ebc1066c36f4b4b9fa67445fd887f1e","message":{"type":"String","mode":"string","value":"Select a NeedIt record to view"},"optional":false,"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":false},"expression_mode":"script","script":"(function execute(table) {\n     // Initialize an array for the list of NeedIt records to show\n\t    var options = [];\n\t\n\t    // Query the table selected in the Table field for active records with the \n\t    // u_request_type selected in the NeedIt Type node where the user is the \n\t    // u_requested_for. Order the results by the When needed value.\n\t    var grNI = new GlideRecord(table);\n\t    grNI.addQuery('u_request_type',vaInputs.needit_type.getValue());\n\t    grNI.addQuery('active','true');\n\t    grNI.addQuery('u_requested_for',vaInputs.user);\n\t    grNI.orderBy('u_when_needed');\n\t    grNI.query();\n\t\n\t    // Push a value and label pair to the array for each record the query returns.\n\t    // The value is the unique value. The label is the number, u_when_needed, and \t\t    // short_description values for the NeedIt record.\n\t    while(grNI.next()) {\n\t        options.push({ 'value': grNI.getUniqueValue(), 'label': grNI.getValue('number') + \" (\" + grNI.getDisplayValue('u_when_needed') + \"): \" + grNI.getValue('short_description') });\n\t    }\n\t\n\t    // Return the array\n\t    return options;\n})(table)\n","no_options_found_message":{"type":"String","mode":"string","value":"You have no open NeedIt records."},"condition":{"type":"Condition","mode":"glide_scripted_query","value":"(function execute(table) {\n     // Initialize an array for the list of NeedIt records to show\n\t    var options = [];\n\t\n\t    // Query the table selected in the Table field for active records with the \n\t    // u_request_type selected in the NeedIt Type node where the user is the \n\t    // u_requested_for. Order the results by the When needed value.\n\t    var grNI = new GlideRecord(table);\n\t    grNI.addQuery('u_request_type',vaInputs.needit_type.getValue());\n\t    grNI.addQuery('active','true');\n\t    grNI.addQuery('u_requested_for',vaInputs.user);\n\t    grNI.orderBy('u_when_needed');\n\t    grNI.query();\n\t\n\t    // Push a value and label pair to the array for each record the query returns.\n\t    // The value is the unique value. The label is the number, u_when_needed, and \t\t    // short_description values for the NeedIt record.\n\t    while(grNI.next()) {\n\t        options.push({ 'value': grNI.getUniqueValue(), 'label': grNI.getValue('number') + \" (\" + grNI.getDisplayValue('u_when_needed') + \"): \" + grNI.getValue('short_description') });\n\t    }\n\t\n\t    // Return the array\n\t    return options;\n})(table)\n"}},{"type":"RecordOutputPrompt","mode":"variable","table":"x_58872_needit_needit","variable_id":"3ebc1066c36f4b4b9fa67445fd887f1e","fields":["priority","short_description","u_when_needed"],"id":"81a3126808ac4f65be345372af90a1d8","name":"NeedIt Card","goal_id":"1a6172be1313400d8059e11d26b290cd","applicability":{"type":"Applicability","mode":"script","value":"true"},"condition":{"type":"Condition","mode":"","value":""}},{"type":"InputPrompt","variable_id":"a407b69e36524fa8949165424db56ccf","message":{"type":"String","mode":"string","value":"Would you like to view another NeedIt Record?"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":false},"optional":false,"id":"05738e2351e94201a46f9b8e72f07f3d","name":"Search Again","goal_id":"1a6172be1313400d8059e11d26b290cd","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"Decision","name":"Find more NeedIt records ?","branches":[{"type":"Branch","label":"No","expression":{"type":"Applicability","mode":"query","value":"search_again="},"id":"c6e0989d99274dea8ee8035b9e6355ce","name":"No"},{"type":"Branch","label":"Yes","expression":{"type":"Applicability","mode":"query","value":"search_again=true"},"id":"53759e9bc7ea4d3d9428e6389517146b","name":"Yes"}],"id":"765b0214d7b642b2a3733c55d5b9db78","goal_id":"1a6172be1313400d8059e11d26b290cd"},{"type":"InputPrompt","variable_id":"4ce8eb16689a4b50822bc02d7c86d027","message":{"type":"String","mode":"string","value":"When do you need the NeedIt completed?"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":false},"optional":false,"id":"80c71698680d4d60b0e6c3dd60db5d4b","name":"New When NeedIt Date","goal_id":"1a6172be1313400d8059e11d26b290cd","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"CRUDAction","mode":"update","query":"u_when_needed={{vaInputs.new_when_needit_date}}","variable_id":"3ebc1066c36f4b4b9fa67445fd887f1e","id":"67f2304e44d9478f91a57ea09cb3aa26","name":"Change When NeedIt Date","goal_id":"1a6172be1313400d8059e11d26b290cd","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"RecordOutputPrompt","mode":"variable","table":"x_58872_needit_needit","variable_id":"3ebc1066c36f4b4b9fa67445fd887f1e","fields":["u_when_needed"],"id":"e3a12d0f1b4a404e883196d5ddb4cda9","name":"Updated NeedIt","goal_id":"1a6172be1313400d8059e11d26b290cd","applicability":{"type":"Applicability","mode":"script","value":"true"},"condition":{"type":"Condition","mode":"","value":""}},{"type":"ChoiceInputPrompt","expression_mode":"simple","id":"b1bca6f8ce374903916c3e4012aac54f","name":"Update Choice","goal_id":"1a6172be1313400d8059e11d26b290cd","applicability":{"type":"Applicability","mode":"script","value":"true"},"variable_id":"bc68304c3da54896b25dd289794cded2","message":{"type":"String","mode":"string","value":"Select which section do you want update"},"optional":false,"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":false}},{"type":"Decision","name":"Decision","branches":[{"type":"Branch","label":"When needed","expression":{"type":"Applicability","mode":"query","value":"update_choice=When needed"},"id":"e2815e1ccdb04348a5a9c2b71ef0416c","name":"When needed"},{"type":"Branch","label":"Nothing","expression":{"type":"Applicability","mode":"query","value":"update_choice=Nothing"},"id":"6398a91bf4894131be3d9e7c61809236","name":"Nothing"},{"type":"Branch","label":"Always","expression":{"type":"Applicability","mode":"query","value":""},"id":"59ce403f32874ca49a9bb68df1b73633","name":"Always"}],"id":"984b5a2eeade465c8d731c1da41e13e0","goal_id":"1a6172be1313400d8059e11d26b290cd"},{"type":"InputPrompt","variable_id":"e25d7524c9084cdbba240b2fde3b172e","message":{"type":"String","mode":"string","value":"Type short description"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":false},"optional":false,"id":"e5cb4e7283e143089b1e40319983f89d","name":"New Short description","goal_id":"1a6172be1313400d8059e11d26b290cd","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"CRUDAction","mode":"update","query":"short_description={{vaInputs.new_short_description}}","variable_id":"3ebc1066c36f4b4b9fa67445fd887f1e","id":"2add28d1ad2941c6a37963707c5f5830","name":"Change Short Description","goal_id":"1a6172be1313400d8059e11d26b290cd","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"RecordOutputPrompt","mode":"variable","table":"x_58872_needit_needit","variable_id":"3ebc1066c36f4b4b9fa67445fd887f1e","fields":["short_description"],"id":"94f2c42489874af9aec2accfbae3b8ff","name":"Updated NeedIt record","goal_id":"1a6172be1313400d8059e11d26b290cd","applicability":{"type":"Applicability","mode":"script","value":"true"},"condition":{"type":"Condition","mode":"","value":""}}],"edges":[{"type":"Edge","source_node_id":"b34944db79b2445a8d2ca92cb266325c","target_node_id":"40e5af4385394b09ba0885d1594fab1e","id":"0ff44652455c4b35951e1e19a2de75b6"},{"type":"Edge","source_node_id":"40e5af4385394b09ba0885d1594fab1e","target_node_id":"8a863a551ce849e7a41f8261ddf3bdbc","id":"f732c41e3ec44b63a4ee3ef4b1530cf0"},{"type":"Edge","source_node_id":"8a863a551ce849e7a41f8261ddf3bdbc","target_node_id":"491dbb5341d344afae4b0544e9d4392a","id":"9b1fe64c08c34e4a8a4ddda588d802f7"},{"type":"Edge","source_node_id":"491dbb5341d344afae4b0544e9d4392a","target_node_id":"81a3126808ac4f65be345372af90a1d8","id":"918971f2b2b242a3bba708546507df28"},{"type":"Edge","source_node_id":"05738e2351e94201a46f9b8e72f07f3d","target_node_id":"765b0214d7b642b2a3733c55d5b9db78","id":"76c35b45c98e498d90aae3b77994869e"},{"type":"Edge","source_node_id":"765b0214d7b642b2a3733c55d5b9db78","target_node_id":"a140e4f24c8e4e3c95f9f10b1af302ef","branch_id":"c6e0989d99274dea8ee8035b9e6355ce","id":"c52a543f19a540e5bbca6d2c3cafac30","name":"c6e0989d99274dea8ee8035b9e6355ce"},{"type":"Edge","source_node_id":"765b0214d7b642b2a3733c55d5b9db78","target_node_id":"40e5af4385394b09ba0885d1594fab1e","branch_id":"53759e9bc7ea4d3d9428e6389517146b","id":"38d0b83620e4419da76e58f36adcdb97","name":"53759e9bc7ea4d3d9428e6389517146b"},{"type":"Edge","source_node_id":"80c71698680d4d60b0e6c3dd60db5d4b","target_node_id":"67f2304e44d9478f91a57ea09cb3aa26","id":"ad74457a6b004972aadddbf54e394202"},{"type":"Edge","source_node_id":"67f2304e44d9478f91a57ea09cb3aa26","target_node_id":"e3a12d0f1b4a404e883196d5ddb4cda9","id":"5d8201bd629444b8a60fee4c8f86e076"},{"type":"Edge","source_node_id":"e3a12d0f1b4a404e883196d5ddb4cda9","target_node_id":"05738e2351e94201a46f9b8e72f07f3d","id":"9b078946cc2640f8b234f29b70566503"},{"type":"Edge","source_node_id":"81a3126808ac4f65be345372af90a1d8","target_node_id":"b1bca6f8ce374903916c3e4012aac54f","id":"3812b40678a045c5bc72a03bb5141c01"},{"type":"Edge","source_node_id":"b1bca6f8ce374903916c3e4012aac54f","target_node_id":"984b5a2eeade465c8d731c1da41e13e0","id":"ba99e94fb9f74d568daef4b61add76c4"},{"type":"Edge","source_node_id":"984b5a2eeade465c8d731c1da41e13e0","target_node_id":"80c71698680d4d60b0e6c3dd60db5d4b","branch_id":"e2815e1ccdb04348a5a9c2b71ef0416c","id":"5d92cf7d81f4472cb1155066f177d139","name":"e2815e1ccdb04348a5a9c2b71ef0416c"},{"type":"Edge","source_node_id":"984b5a2eeade465c8d731c1da41e13e0","target_node_id":"05738e2351e94201a46f9b8e72f07f3d","branch_id":"6398a91bf4894131be3d9e7c61809236","id":"7c16cc5d42ce4381907a7e733282dc59","name":"6398a91bf4894131be3d9e7c61809236"},{"type":"Edge","source_node_id":"984b5a2eeade465c8d731c1da41e13e0","target_node_id":"e5cb4e7283e143089b1e40319983f89d","branch_id":"59ce403f32874ca49a9bb68df1b73633","id":"009d9fd3c8b443de81288d315b4b412a","name":"59ce403f32874ca49a9bb68df1b73633"},{"type":"Edge","source_node_id":"e5cb4e7283e143089b1e40319983f89d","target_node_id":"2add28d1ad2941c6a37963707c5f5830","id":"241f545b14f545d0ab3bcb53e46a1db0"},{"type":"Edge","source_node_id":"2add28d1ad2941c6a37963707c5f5830","target_node_id":"94f2c42489874af9aec2accfbae3b8ff","id":"08b3bad8074a4f169eedaab5894606d7"},{"type":"Edge","source_node_id":"94f2c42489874af9aec2accfbae3b8ff","target_node_id":"05738e2351e94201a46f9b8e72f07f3d","id":"e5f0c7e80cba49199138da586cde9633"}],"id":"1a6172be1313400d8059e11d26b290cd"}],"script_variables":[],"glide_variables":[{"type":"Reference","table":"sys_user","id":"current-user","name":"user"},{"type":"Choice","choices":[{"name":"Legal","element":"legal"},{"name":"Facilities","element":"facilities"},{"name":"Human Resources","element":"hr"}],"id":"3ba2c219ab4644aeb16ff842df719071","name":"needit_type"},{"type":"Reference","table":"x_58872_needit_needit","id":"3ebc1066c36f4b4b9fa67445fd887f1e","name":"needit_list"},{"type":"True/False","id":"a407b69e36524fa8949165424db56ccf","name":"search_again"},{"type":"Date/Time","mode":"date","id":"4ce8eb16689a4b50822bc02d7c86d027","name":"new_when_needit_date"},{"type":"Reference","table":"","id":"9d04847616ac4a4aa564ec5902e2191d","name":"change_when_needit_date"},{"type":"Choice","choices":[{"name":"Short description","element":"Short description"},{"name":"When needed","element":"When needed"},{"name":"Nothing","element":"Nothing"}],"id":"bc68304c3da54896b25dd289794cded2","name":"update_choice"},{"type":"String","name":"new_short_description","id":"e25d7524c9084cdbba240b2fde3b172e"},{"type":"Reference","table":"","id":"a46fb506f0d843dd8e144cb1915e7da0","name":"change_short_description"}],"applicability":{"type":"Applicability","mode":"script","value":"true"},"roles":[],"scope":"14eefb98db901010454ef7af299619df","domain":"global","id":"29fff7d8db901010454ef7af29961980","name":"_PRVW__69652cecf5d010104e794f8cb46fb789","key_phrases":["Update NeedIt Records","NeedIt request"],"nlu_provider":"","nlu_model":"","nlu_model_label":"","nlu_intent":"","nlu_intent_label":"","flexible_conversation_switching":false,"design_category":"8a0fb3d8db901010454ef7af29961929","library":false}</design_definition>
        <design_topic_id>29fff7d8db901010454ef7af29961980</design_topic_id>
        <name>_PRVW__69652cecf5d010104e794f8cb46fb789</name>
        <sys_class_name>sys_cb_design_topic</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2020-04-17 09:25:39</sys_created_on>
        <sys_domain>global</sys_domain>
        <sys_id>25652cecdbd01010454ef7af2996198d</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_name>FlowTopic</sys_name>
        <sys_package display_value="NeedIt Virtual Agent Conversations" source="x_468782_needit_vi">14eefb98db901010454ef7af299619df</sys_package>
        <sys_policy/>
        <sys_scope display_value="NeedIt Virtual Agent Conversations">14eefb98db901010454ef7af299619df</sys_scope>
        <sys_update_name>sys_cb_design_topic_25652cecdbd01010454ef7af2996198d</sys_update_name>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2020-04-17 09:25:39</sys_updated_on>
        <type>FlowTopic</type>
    </sys_cb_design_topic>
</record_update>
